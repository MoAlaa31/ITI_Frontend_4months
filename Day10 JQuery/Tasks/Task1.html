<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://kit.fontawesome.com/8e1488fa5e.js" crossorigin="anonymous"></script>
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.js">
    </script>
    <link rel="stylesheet" href="style.css">
</head>
<style>


</style>

<body>
    <div class="bar">
        <div class="search">
            <input type="search" id="q" placeholder="search by Course or Name">
            <button type="submit" class="search-button">
                <i class="fa-solid fa-magnifying-glass" style="color: white;"></i>
            </button>
        </div>
        <!-- <button type="button" class="show-button">Show All</button> -->
    </div>
    <br>

    <!-- <input type="text" id="in1">
    <button id="btn1">get My Product</button>
    <div id="prod"></div> -->
    <div class="tabl">
        <table id="myTable">
            <tbody>
                <tr>
                    <th>Images</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Phone</th>
                    <th>Address</th>
                    <th>Track</th>
                    <th>Cources</th>
                    <th>Position</th>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
$(document).ready(function () {
    $.getJSON("https://dummyjson.com/users", function (elm) {
        elm.users.forEach(function (u) {
            var str = `<tr>
                    <td><img src="${u.image}"></td>
                    <td>${u.firstName}</td>
                    <td>${u.lastName}</td>
                    <td>${u.phone}</td>
                    <td>${u.address.address}</td>
                    <td>${u.company.department}</td>
                    <td>${u.company.title}</td>
                    <td>${u.role}</td>
            </tr>`;
            $("#myTable tbody").append(str);
        });
    });
});

$(".search-button").click(function () {
    var id = $("#q").val().trim();
    var url = id ? "https://dummyjson.com/users/" + id : "https://dummyjson.com/users";

    $.getJSON(url, function (elm) {
        $("#myTable tbody").find("tr:gt(0)").remove();

        // if showing all users
        if (elm.users) {
            elm.users.forEach(function (u) {
                var str = `<tr>
                    <td><img src="${u.image}"></td>
                    <td>${u.firstName}</td>
                    <td>${u.lastName}</td>
                    <td>${u.phone}</td>
                    <td>${u.address.address}</td>
                    <td>${u.company.department}</td>
                    <td>${u.company.title}</td>
                    <td>${u.role}</td>
                </tr>`;
                $("#myTable tbody").append(str);
            });
        } 
        // if searching by ID
        else {
            var str = `<tr>
                <td><img src="${elm.image}"></td>
                <td>${elm.firstName}</td>
                <td>${elm.lastName}</td>
                <td>${elm.phone}</td>
                <td>${elm.address.address}</td>
                <td>${elm.company.department}</td>
                <td>${elm.company.title}</td>
                <td>${elm.role}</td>
            </tr>`;
            $("#myTable tbody").append(str);
        }
    });
});

    </script>
</body>

</html>